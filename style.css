@import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@500;700&display=swap');

body, html { margin: 0; overflow: hidden; font-family: 'Fredoka', sans-serif; background: #2d3436; }

#star-bg {
    position: absolute; inset: 0; z-index: -1;
    background: radial-gradient(circle, #2d3436 0%, #000000 100%);
}

/* 大厅 */
#lobby {
    position: fixed; inset: 0; z-index: 100;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    background: rgba(255,255,255,0.95);
}
.logo-area h1 { color: #6c5ce7; font-size: 50px; margin: 0; }
.level-box { margin-top: 40px; text-align: center; }
.btn-row { display: flex; gap: 20px; margin-top: 20px; }
.lvl-btn {
    padding: 20px 40px; font-size: 24px; border: none; border-radius: 20px;
    background: var(--c); color: white; font-weight: bold; cursor: pointer;
    box-shadow: 0 5px 0 rgba(0,0,0,0.2); transition: transform 0.1s;
}
.lvl-btn:active { transform: translateY(5px); box-shadow: none; }

#status-log { margin-top: 30px; color: #888; }

/* 游戏 UI */
#game-ui { position: absolute; inset: 0; pointer-events: none; z-index: 10; display: none; }
.top-bar { display: flex; justify-content: space-between; padding: 20px; }
.score-pill { font-size: 32px; color: #ffeaa7; font-weight: bold; text-shadow: 2px 2px 0 #000; }
.exit-btn { pointer-events: auto; padding: 10px 20px; border-radius: 10px; border: none; background: #ff7675; color: white; cursor: pointer; }

/* 学习卡片 */
#card-overlay {
    position: absolute; inset: 0; display: flex; align-items: center; justify-content: center;
    background: rgba(0,0,0,0.5); opacity: 0; transition: opacity 0.3s;
}
#card-overlay.active { opacity: 1; }
.card-box {
    background: white; width: 300px; padding: 30px; border-radius: 40px;
    text-align: center; transform: scale(0); transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    border: 8px solid #74b9ff;
}
#card-overlay.active .card-box { transform: scale(1); }
#c-icon { font-size: 100px; }
#c-word { font-size: 50px; color: #2d3436; margin: 10px 0; }
#c-cn { font-size: 30px; color: #0984e3; margin: 0; }

/* 关键修复：视频必须存在但不可见 */
#input-video {
    position: absolute; width: 1px; height: 1px; opacity: 0; pointer-events: none;
}

/* 调试雷达：显示在右下角 */
#debug-canvas {
    position: absolute; bottom: 10px; right: 10px; width: 160px; height: 120px;
    background: rgba(0,0,0,0.5); border: 2px solid #fff; border-radius: 10px; z-index: 5;
    transform: scaleX(-1); /* 镜像翻转 */
}

#debug-toast {
    position: absolute; top: 80px; left: 50%; transform: translateX(-50%);
    background: rgba(0,0,0,0.7); color: white; padding: 5px 15px; border-radius: 20px; font-size: 12px;
}